"use strict";(self["webpackChunkticu"]=self["webpackChunkticu"]||[]).push([[213],{709:function(e,a,t){t.r(a),t.d(a,{default:function(){return w}});t(7658);var l=t(3396),n=t(4870),r=t(7139),o=t(1310),u=t(9651),i=t(8741),m=t(8462),c=t(9111);const s={class:"layout-full layout-v container"},p={class:"player-selector"},h={class:"match-result layout-fill"};var d=(0,l.aZ)({__name:"index",setup(e){const a=(0,n.qj)({matchList:[],yearList:[],yearlyData:{},selectedPlayer:["孙","黄"],tableData:[{itemName:"比赛胜率",prop:"rate"},{itemName:"比赛胜场",prop:"matchWinCount"},{itemName:"比赛场次",prop:"matchCount"},{itemName:"最长连胜",prop:"maxMatchWinCount"},{itemName:"最长连败",prop:"maxMatchLoseCount"},{itemName:"使用最多英雄",prop:"headFiveHero"}]}),t=2022,d=(new Date).getFullYear(),y=()=>{const e=[],l={};for(let n=t;n<=d;n++){e.push(n);const t=a.matchList.filter((e=>e.matchDate.indexOf(n)>-1));l[n]=(0,o.e)(t)}a.yearList=e,a.yearlyData=l},f=e=>{a.matchList=e,y()},w=(e,a)=>{const t=e/a*100;return isNaN(t)||0===a?"-":t.toFixed(2)},b=(e,t,l)=>{if(a.yearlyData[t]&&a.yearlyData[t].playerManagement&&a.yearlyData[t].playerManagement.playerMap[e]){const n=a.yearlyData[t].playerManagement.playerMap[e];if("rate"===l)return`${w(n.matchWinCount,n.matchCount)}%`;if("matchCount"===l)return n.matchCount;if("matchWinCount"===l)return n.matchWinCount;if("maxMatchWinCount"===l)return n.maxMatchWinCount;if("maxMatchLoseCount"===l)return n.maxMatchLoseCount;if("headFiveHero"===l){const e=Object.values(n.heroMap);return e.sort(((e,a)=>e.count<a.count?1:-1)),e.slice(0,5)}}return"--"};return(e,t)=>{const o=(0,l.up)("el-option"),d=(0,l.up)("el-select"),y=(0,l.up)("el-form-item"),w=(0,l.up)("el-form"),g=(0,l.up)("el-table-column"),v=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(u.Z,{onSubmit:f,hasTimeRange:!1}),(0,l._)("div",p,[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{label:"选择展示参赛选手"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{multiple:"",modelValue:a.selectedPlayer,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedPlayer=e),onRemoveTag:e.handleRemoveTag},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,n.SU)(i.J3),((e,a)=>((0,l.wg)(),(0,l.j4)(o,{label:e.nickName,value:e.nickName,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onRemoveTag"])])),_:1})])),_:1})]),(0,l._)("div",h,[(0,l.Wm)(v,{data:a.tableData,stripe:"",border:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{prop:"itemName",label:"项",fixed:"left"}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.selectedPlayer,((e,t)=>((0,l.wg)(),(0,l.j4)(g,{key:t,label:e,align:"center"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.yearList,((a,t)=>((0,l.wg)(),(0,l.j4)(g,{key:t,label:`${a}年`,align:"center"},{default:(0,l.w5)((t=>["headFiveHero"===t.row.prop?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(b(e,a,t.row.prop),((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a,class:"head-five-hero-item"},[(0,l.Wm)(c.Z,{name:e.hero,showName:!1,width:60,height:45},null,8,["name"]),(0,l.Wm)(m.Z,{number1:e.winCount,number2:e.count},null,8,["number1","number2"])])))),128)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,r.zw)(b(e,a,t.row.prop)),1)],64))])),_:2},1032,["label"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["data"])])])}}}),y=t(89);const f=(0,y.Z)(d,[["__scopeId","data-v-6933ee15"]]);var w=f}}]);
//# sourceMappingURL=213.6ab8b6e8.js.map