"use strict";(self["webpackChunkticu"]=self["webpackChunkticu"]||[]).push([[822],{2325:function(e,t,a){a.d(t,{E:function(){return n},U:function(){return l}});a(7658);const n=e=>0===e?1:1===e?0:null,l=(e,t)=>{const a=[],n=(e,t,l)=>{const o=e.length;if(!(t>o))if(t===o)a.push([].concat(l,e));else for(let u=0;u<o;u++){const o=[].concat(l);if(o.push(e[u]),1===t)a.push(o);else{const a=[].concat(e);a.splice(0,u+1),n(a,t-1,o)}}};return n(e,t,[]),a}},9401:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(7658);var n=a(3396),l=a(4870),o=a(7139),u=a(1310),r=a(9651),c=a(8741);const i={class:"layout-full layout-v container"},m={class:"player-selector"},s={class:"match-result layout-fill"};var p=(0,n.aZ)({__name:"index",setup(e){const t=(0,l.qj)({matchList:[],yearList:[],yearlyData:{},selectedPlayer:["孙","黄"],tableData:[{itemName:"比赛胜率",prop:"rate"},{itemName:"比赛胜场",prop:"matchWinCount"},{itemName:"比赛场次",prop:"matchCount"},{itemName:"最长连胜",prop:"maxMatchWinCount"},{itemName:"最长连败",prop:"maxMatchLoseCount"},{itemName:"使用最多英雄",prop:"headFiveHero"}]}),a=2022,p=(new Date).getFullYear(),f=()=>{const e=[],n={};for(let l=a;l<=p;l++){e.push(l);const a=t.matchList.filter((e=>e.matchDate.indexOf(l)>-1));n[l]=(0,u.e)(a)}t.yearList=e,t.yearlyData=n},h=e=>{t.matchList=e,f()},d=(e,t)=>{const a=e/t*100;return isNaN(a)||0===t?"-":a.toFixed(2)},y=(e,a,n)=>{if(t.yearlyData[a]&&t.yearlyData[a].playerManagement&&t.yearlyData[a].playerManagement.playerMap[e]){const l=t.yearlyData[a].playerManagement.playerMap[e];if("rate"===n)return`${d(l.matchWinCount,l.matchCount)}%`;if("matchCount"===n)return l.matchCount;if("matchWinCount"===n)return l.matchWinCount;if("maxMatchWinCount"===n)return l.maxMatchWinCount;if("maxMatchLoseCount"===n)return l.maxMatchLoseCount;if("headFiveHero"===n){const e=Object.values(l.heroMap);return e.sort(((e,t)=>e.count<t.count?1:-1)),e.slice(0,5).map(((e,t)=>`${e.hero} - ${e.winCount}/${e.count}(${d(e.winCount,e.count)}%)`)).join("\n")}}return"--"};return(e,a)=>{const u=(0,n.up)("el-option"),p=(0,n.up)("el-select"),f=(0,n.up)("el-form-item"),d=(0,n.up)("el-form"),w=(0,n.up)("el-table-column"),b=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(r.Z,{onSubmit:h,hasTimeRange:!1}),(0,n._)("div",m,[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{label:"选择展示参赛选手"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{multiple:"",modelValue:t.selectedPlayer,"onUpdate:modelValue":a[0]||(a[0]=e=>t.selectedPlayer=e),onRemoveTag:e.handleRemoveTag},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,l.SU)(c.J3),((e,t)=>((0,n.wg)(),(0,n.j4)(u,{label:e.nickName,value:e.nickName,key:t},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onRemoveTag"])])),_:1})])),_:1})]),(0,n._)("div",s,[(0,n.Wm)(b,{data:t.tableData,stripe:"",border:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{prop:"itemName",label:"项",fixed:"left"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.selectedPlayer,((e,a)=>((0,n.wg)(),(0,n.j4)(w,{key:a,label:e,align:"center"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.yearList,((t,a)=>((0,n.wg)(),(0,n.j4)(w,{key:a,label:`${t}年`,align:"center"},{default:(0,n.w5)((a=>[(0,n.Uk)((0,o.zw)(y(e,t,a.row.prop)),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["data"])])])}}}),f=a(89);const h=(0,f.Z)(p,[["__scopeId","data-v-455fb06f"]]);var d=h}}]);
//# sourceMappingURL=822.1b7e6de9.js.map