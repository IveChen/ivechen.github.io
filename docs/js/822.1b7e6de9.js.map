{"version":3,"file":"js/822.1b7e6de9.js","mappings":"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","sources":["webpack://ticu/./src/utils/index.js","webpack://ticu/./src/views/Match/Compare/index.vue?2774","webpack://ticu/./src/views/Match/Compare/index.vue"],"sourcesContent":["// const isFounded = arr1.some(ai => arr2.includes(ai))\n// const allFounded = arr2.every(ai => arr1.includes(ai))\n\nexport const getOpponentTeamIndex = (code) => {\n  if (code === 0) return 1\n  if (code === 1) return 0\n  return null\n}\n\n// 链接：https://juejin.cn/post/6959102042279247909\n/** 组合 */\nexport const combination = (arr, size) => {\n  const allResult = []\n  const comb = (arr, size, result) => {\n    const arrLen = arr.length\n    if (size > arrLen) {\n      return\n    }\n    if (size === arrLen) {\n      allResult.push([].concat(result, arr))\n    } else {\n      for (let i = 0; i < arrLen; i++) {\n        const newResult = [].concat(result)\n        newResult.push(arr[i])\n\n        if (size === 1) {\n          allResult.push(newResult)\n        } else {\n          const newArr = [].concat(arr)\n          newArr.splice(0, i + 1)\n          // eslint-disable-next-line no-caller\n          comb(newArr, size - 1, newResult)\n        }\n      }\n    }\n  }\n  comb(arr, size, [])\n\n  return allResult\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-455fb06f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"layout-full layout-v container\" }\nconst _hoisted_2 = { class: \"player-selector\" }\nconst _hoisted_3 = { class: \"match-result layout-fill\" }\n\nimport { useRouter } from 'vue-router'\nimport { computed, reactive } from 'vue'\n// @ts-ignore\nimport { parseMatchList } from '@/utils/dataHelper'\nimport GlobalMatchListFilter from '@/components/GobalMatchListFilter/index.vue'\nimport { PlayerList } from '@/CONST'\nimport dayjs from 'dayjs'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst state = reactive({\n  matchList: [],\n  yearList: [],\n  yearlyData: {},\n  selectedPlayer: ['孙', '黄'],\n  tableData: [\n    {\n      itemName: '比赛胜率',\n      prop: 'rate'\n    },\n    {\n      itemName: '比赛胜场',\n      prop: 'matchWinCount'\n    },\n    {\n      itemName: '比赛场次',\n      prop: 'matchCount'\n    },\n    {\n      itemName: '最长连胜',\n      prop: 'maxMatchWinCount'\n    },\n    {\n      itemName: '最长连败',\n      prop: 'maxMatchLoseCount'\n    },\n    {\n      itemName: '使用最多英雄',\n      prop: 'headFiveHero'\n    }\n  ]\n})\n\nconst yearStart = 2022\nconst yearEnd = new Date().getFullYear()\n\nconst parseYearlyData = () => {\n  const yearList = []\n  const yearlyData = {}\n  for (let i = yearStart; i <= yearEnd; i++) {\n    yearList.push(i)\n    const yearlyMatch = state.matchList.filter((item) => {\n      return item.matchDate.indexOf(i) > -1\n    })\n    yearlyData[i] = parseMatchList(yearlyMatch)\n  }\n  state.yearList = yearList\n  state.yearlyData = yearlyData\n}\n\nconst handleSubmit = (matchList) => {\n  state.matchList = matchList\n  parseYearlyData()\n}\nconst percent = (number1, number2) => {\n  const result = (number1 / number2) * 100\n  if (!isNaN(result) && number2 !== 0) {\n    return result.toFixed(2)\n  }\n  return '-'\n}\nconst getColumnData = (nickName, year, field) => {\n  if (state.yearlyData[year]) {\n    if (\n      state.yearlyData[year].playerManagement &&\n      state.yearlyData[year].playerManagement.playerMap[nickName]\n    ) {\n      const playerYearlyData =\n        state.yearlyData[year].playerManagement.playerMap[nickName]\n      if (field === 'rate') {\n        return `${percent(\n          playerYearlyData.matchWinCount,\n          playerYearlyData.matchCount\n        )}%`\n      }\n      if (field === 'matchCount') {\n        return playerYearlyData.matchCount\n      }\n      if (field === 'matchWinCount') {\n        return playerYearlyData.matchWinCount\n      }\n      if (field === 'maxMatchWinCount') {\n        return playerYearlyData.maxMatchWinCount\n      }\n      if (field === 'maxMatchLoseCount') {\n        return playerYearlyData.maxMatchLoseCount\n      }\n      if (field === 'headFiveHero') {\n        const heroList = Object.values(playerYearlyData.heroMap)\n        heroList.sort((a, b) => {\n          return a.count < b.count ? 1 : -1\n        })\n        return heroList\n          .slice(0, 5)\n          .map((item, index) => {\n            return `${item.hero} - ${item.winCount}/${\n              item.count\n            }(${percent(item.winCount, item.count)}%)`\n          })\n          .join('\\n')\n      }\n    }\n  }\n  return '--'\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(GlobalMatchListFilter, {\n      onSubmit: handleSubmit,\n      hasTimeRange: false\n    }),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_form, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"选择展示参赛选手\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_select, {\n                multiple: \"\",\n                modelValue: state.selectedPlayer,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((state.selectedPlayer) = $event)),\n                onRemoveTag: _ctx.handleRemoveTag\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(PlayerList), (item, index) => {\n                    return (_openBlock(), _createBlock(_component_el_option, {\n                      label: item.nickName,\n                      value: item.nickName,\n                      key: index\n                    }, null, 8, [\"label\", \"value\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"onRemoveTag\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_el_table, {\n        data: state.tableData,\n        stripe: \"\",\n        border: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"itemName\",\n            label: \"项\",\n            fixed: \"left\"\n          }),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(state.selectedPlayer, (nickName, index) => {\n            return (_openBlock(), _createBlock(_component_el_table_column, {\n              key: index,\n              label: nickName,\n              align: \"center\"\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(state.yearList, (yearItem, yindex) => {\n                  return (_openBlock(), _createBlock(_component_el_table_column, {\n                    key: yindex,\n                    label: `${yearItem}年`,\n                    align: \"center\"\n                  }, {\n                    default: _withCtx((scope) => [\n                      _createTextVNode(_toDisplayString(getColumnData(nickName, yearItem, scope.row.prop)), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"label\"]))\n                }), 128))\n              ]),\n              _: 2\n            }, 1032, [\"label\"]))\n          }), 128))\n        ]),\n        _: 1\n      }, 8, [\"data\"])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=455fb06f&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/chenjiancai/projects/local_projects/ticu/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-455fb06f\"]])\n\nexport default __exports__"],"names":["getOpponentTeamIndex","code","combination","arr","size","allResult","comb","result","arrLen","length","push","concat","i","newResult","newArr","splice","_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","__name","setup","__props","state","reactive","matchList","yearList","yearlyData","selectedPlayer","tableData","itemName","prop","yearStart","yearEnd","Date","getFullYear","parseYearlyData","yearlyMatch","filter","item","matchDate","indexOf","parseMatchList","handleSubmit","percent","number1","number2","isNaN","toFixed","getColumnData","nickName","year","field","playerManagement","playerMap","playerYearlyData","matchWinCount","matchCount","maxMatchWinCount","maxMatchLoseCount","heroList","Object","values","heroMap","sort","a","b","count","slice","map","index","hero","winCount","join","_ctx","_cache","_component_el_option","_resolveComponent","_component_el_select","_component_el_form_item","_component_el_form","_component_el_table_column","_component_el_table","_openBlock","_createElementBlock","_createVNode","GlobalMatchListFilter","onSubmit","hasTimeRange","_createElementVNode","default","_withCtx","label","multiple","modelValue","$event","onRemoveTag","handleRemoveTag","_Fragment","_renderList","_unref","PlayerList","_createBlock","value","key","_","data","stripe","border","fixed","align","yearItem","yindex","scope","_createTextVNode","_toDisplayString","row","__exports__"],"sourceRoot":""}