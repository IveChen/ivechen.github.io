"use strict";(self["webpackChunkticu"]=self["webpackChunkticu"]||[]).push([[887],{5887:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});t(7658);var l=t(3396),n=t(4870),o=t(7139),r=t(1919),u=t(9651),i=t(8741);const m={class:"layout-full layout-v container"},c={class:"player-selector"},s={class:"match-result layout-fill"};var p=(0,l.aZ)({__name:"index",setup(e){const a=(0,n.qj)({matchList:[],yearList:[],yearlyData:{},selectedPlayer:["孙","黄"],tableData:[{itemName:"比赛场次",prop:"matchCount"},{itemName:"比赛胜率",prop:"rate"},{itemName:"比赛胜场",prop:"matchWinCount"},{itemName:"最长连胜",prop:"maxMatchWinCount"},{itemName:"最长连败",prop:"maxMatchLoseCount"},{itemName:"使用最多英雄",prop:"headFiveHero"}]}),t=2022,p=(new Date).getFullYear(),y=()=>{const e=[],l={};for(let n=t;n<=p;n++){e.push(n);const t=a.matchList.filter((e=>e.matchDate.indexOf(n)>-1));l[n]=(0,r.e)(t)}a.yearList=e,a.yearlyData=l,console.log(a.yearlyData)},d=e=>{a.matchList=e,y()},h=(e,a)=>{const t=e/a*100;return isNaN(t)||0===a?"-":t.toFixed(2)},f=(e,t,l)=>{if(a.yearlyData[t]&&a.yearlyData[t].playerManagement&&a.yearlyData[t].playerManagement.playerMap[e]){const n=a.yearlyData[t].playerManagement.playerMap[e];if("rate"===l)return`${h(n.matchWinCount,n.matchCount)}%`;if("matchCount"===l)return n.matchCount;if("matchWinCount"===l)return n.matchWinCount;if("maxMatchWinCount"===l)return n.maxMatchWinCount;if("maxMatchLoseCount"===l)return n.maxMatchLoseCount;if("headFiveHero"===l){const e=Object.values(n.heroMap);return e.sort(((e,a)=>e.count<a.count?1:-1)),e.slice(0,5).map(((e,a)=>`${e.hero} - ${e.winCount}/${e.count}(${h(e.winCount,e.count)}%)`)).join("\n")}}return"--"};return(e,t)=>{const r=(0,l.up)("el-option"),p=(0,l.up)("el-select"),y=(0,l.up)("el-form-item"),h=(0,l.up)("el-form"),w=(0,l.up)("el-table-column"),g=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(u.Z,{onSubmit:d,hasTimeRange:!1}),(0,l._)("div",c,[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{label:"选择展示参赛选手"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{multiple:"",modelValue:a.selectedPlayer,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedPlayer=e),onRemoveTag:e.handleRemoveTag},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,n.SU)(i.J3),((e,a)=>((0,l.wg)(),(0,l.j4)(r,{label:e.nickName,value:e.nickName,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onRemoveTag"])])),_:1})])),_:1})]),(0,l._)("div",s,[(0,l.Wm)(g,{data:a.tableData,stripe:"",border:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{prop:"itemName",label:"项",fixed:"left"}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.selectedPlayer,((e,t)=>((0,l.wg)(),(0,l.j4)(w,{key:t,label:e,align:"center"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.yearList,((a,t)=>((0,l.wg)(),(0,l.j4)(w,{key:t,label:`${a}年`,align:"center"},{default:(0,l.w5)((t=>[(0,l.Uk)((0,o.zw)(f(e,a,t.row.prop)),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["data"])])])}}}),y=t(89);const d=(0,y.Z)(p,[["__scopeId","data-v-a583f56a"]]);var h=d}}]);
//# sourceMappingURL=887.0eae252e.js.map